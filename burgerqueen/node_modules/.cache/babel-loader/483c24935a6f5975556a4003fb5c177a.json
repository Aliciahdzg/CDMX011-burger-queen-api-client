{"ast":null,"code":"import _regeneratorRuntime from\"/home/alicia/Documentos/Laboratoria/bqmaster/CDMX011-burger-queen-api-client/burgerqueen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/alicia/Documentos/Laboratoria/bqmaster/CDMX011-burger-queen-api-client/burgerqueen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/alicia/Documentos/Laboratoria/bqmaster/CDMX011-burger-queen-api-client/burgerqueen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable react-hooks/exhaustive-deps */ /* eslint-disable react/prop-types */import'./styles/Header.scss';import React,{useEffect,useState}from'react';import{signOut}from'firebase/auth';import{useNavigate}from'react-router-dom';import{Icon}from'@iconify/react';import auth from'../firebase/firebaseConfig';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Header=function Header(_ref){var userData=_ref.userData,setUserData=_ref.setUserData;var navigate=useNavigate();var _useState=useState(new Date()),_useState2=_slicedToArray(_useState,2),today=_useState2[0],setDate=_useState2[1];var _useState3=useState(new Date()),_useState4=_slicedToArray(_useState3,2),time=_useState4[0],setTime=_useState4[1];var email=userData.email,role=userData.role;useEffect(function(){var timer=setInterval(function(){// Creates an interval which will update the current data every minute\n// This will trigger a rerender every component that uses the useDate hook.\nsetDate(new Date());setTime(new Date());},1000);return function(){clearInterval(timer);// Return a funtion to clear the timer so that it will stop being called on unmount\n};},[]);var handleLogout=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return signOut(auth);case 3:setUserData(null);console.log('saliendo de app');navigate('/');_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function handleLogout(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"current-user\",children:[role==='waiter'&&/*#__PURE__*/_jsx(Icon,{icon:\"vs:user-waiter\",color:\"#f2884b\",height:\"40\"}),role==='chef'&&/*#__PURE__*/_jsx(Icon,{icon:\"icon-park-outline:chef-hat\",color:\"#f2884b\",height:\"40\"}),role==='admin'&&/*#__PURE__*/_jsx(Icon,{icon:\"wpf:administrator\",color:\"#f2884b\",height:\"40\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",email]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"current-time\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\" \",today.toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",time.toLocaleTimeString()]})]}),/*#__PURE__*/_jsx(Icon,{className:\"logout\",icon:\"ic:twotone-logout\",color:\"#f2884b\",height:\"40\",onClick:function onClick(){handleLogout();}})]});};export default Header;","map":{"version":3,"sources":["/home/alicia/Documentos/Laboratoria/bqmaster/CDMX011-burger-queen-api-client/burgerqueen/src/components/Header.jsx"],"names":["React","useEffect","useState","signOut","useNavigate","Icon","auth","Header","userData","setUserData","navigate","Date","today","setDate","time","setTime","email","role","timer","setInterval","clearInterval","handleLogout","console","log","toLocaleDateString","toLocaleTimeString"],"mappings":"0mBAAA,gD,CACA,qCACA,MAAO,sBAAP,CACA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,OAAT,KAAwB,eAAxB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,IAAT,KAAqB,gBAArB,CACA,MAAOC,CAAAA,IAAP,KAAiB,4BAAjB,C,wFAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,MAA+B,IAA5BC,CAAAA,QAA4B,MAA5BA,QAA4B,CAAlBC,WAAkB,MAAlBA,WAAkB,CAC5C,GAAMC,CAAAA,QAAQ,CAAGN,WAAW,EAA5B,CAEA,cAAyBF,QAAQ,CAAC,GAAIS,CAAAA,IAAJ,EAAD,CAAjC,wCAAOC,KAAP,eAAcC,OAAd,eACA,eAAwBX,QAAQ,CAAC,GAAIS,CAAAA,IAAJ,EAAD,CAAhC,yCAAOG,IAAP,eAAaC,OAAb,eAEA,GAAQC,CAAAA,KAAR,CAAwBR,QAAxB,CAAQQ,KAAR,CAAeC,IAAf,CAAwBT,QAAxB,CAAeS,IAAf,CAEAhB,SAAS,CAAC,UAAM,CACd,GAAMiB,CAAAA,KAAK,CAAGC,WAAW,CAAC,UAAM,CAC9B;AACA;AACAN,OAAO,CAAC,GAAIF,CAAAA,IAAJ,EAAD,CAAP,CACAI,OAAO,CAAC,GAAIJ,CAAAA,IAAJ,EAAD,CAAP,CACD,CALwB,CAKtB,IALsB,CAAzB,CAMA,MAAO,WAAM,CACXS,aAAa,CAACF,KAAD,CAAb,CAAsB;AACvB,CAFD,CAGD,CAVQ,CAUN,EAVM,CAAT,CAYA,GAAMG,CAAAA,YAAY,2FAAG,yKAEXlB,CAAAA,OAAO,CAACG,IAAD,CAFI,QAGjBG,WAAW,CAAC,IAAD,CAAX,CACAa,OAAO,CAACC,GAAR,CAAY,iBAAZ,EACAb,QAAQ,CAAC,GAAD,CAAR,CALiB,+EAOjBY,OAAO,CAACC,GAAR,cAPiB,oEAAH,kBAAZF,CAAAA,YAAY,2CAAlB,CAWA,mBACE,aAAK,SAAS,CAAC,QAAf,wBACE,aAAK,SAAS,CAAC,cAAf,WACGJ,IAAI,GAAK,QAAT,eACC,KAAC,IAAD,EAAM,IAAI,CAAC,gBAAX,CAA4B,KAAK,CAAC,SAAlC,CAA4C,MAAM,CAAC,IAAnD,EAFJ,CAIGA,IAAI,GAAK,MAAT,eACC,KAAC,IAAD,EAAM,IAAI,CAAC,4BAAX,CAAwC,KAAK,CAAC,SAA9C,CAAwD,MAAM,CAAC,IAA/D,EALJ,CAOGA,IAAI,GAAK,OAAT,eACC,KAAC,IAAD,EAAM,IAAI,CAAC,mBAAX,CAA+B,KAAK,CAAC,SAArC,CAA+C,MAAM,CAAC,IAAtD,EARJ,cAUE,yBAAKD,KAAL,GAVF,GADF,cAaE,aAAK,SAAS,CAAC,cAAf,wBACE,yBAAKJ,KAAK,CAACY,kBAAN,EAAL,GADF,cAEE,yBAAKV,IAAI,CAACW,kBAAL,EAAL,GAFF,GAbF,cAiBE,KAAC,IAAD,EACE,SAAS,CAAC,QADZ,CAEE,IAAI,CAAC,mBAFP,CAGE,KAAK,CAAC,SAHR,CAIE,MAAM,CAAC,IAJT,CAKE,OAAO,CAAE,kBAAM,CACbJ,YAAY,GACb,CAPH,EAjBF,GADF,CA6BD,CA5DD,CA8DA,cAAed,CAAAA,MAAf","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\n/* eslint-disable react/prop-types */\nimport './styles/Header.scss';\nimport React, { useEffect, useState } from 'react';\nimport { signOut } from 'firebase/auth';\nimport { useNavigate } from 'react-router-dom';\nimport { Icon } from '@iconify/react';\nimport auth from '../firebase/firebaseConfig';\n\nconst Header = ({ userData, setUserData }) => {\n  const navigate = useNavigate();\n\n  const [today, setDate] = useState(new Date());\n  const [time, setTime] = useState(new Date());\n\n  const { email, role } = userData;\n\n  useEffect(() => {\n    const timer = setInterval(() => {\n      // Creates an interval which will update the current data every minute\n      // This will trigger a rerender every component that uses the useDate hook.\n      setDate(new Date());\n      setTime(new Date());\n    }, 1000);\n    return () => {\n      clearInterval(timer); // Return a funtion to clear the timer so that it will stop being called on unmount\n    };\n  }, []);\n\n  const handleLogout = async () => {\n    try {\n      await signOut(auth);\n      setUserData(null);\n      console.log('saliendo de app');\n      navigate('/');\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <div className=\"header\">\n      <div className=\"current-user\">\n        {role === 'waiter' && (\n          <Icon icon=\"vs:user-waiter\" color=\"#f2884b\" height=\"40\" />\n        )}\n        {role === 'chef' && (\n          <Icon icon=\"icon-park-outline:chef-hat\" color=\"#f2884b\" height=\"40\" />\n        )}\n        {role === 'admin' && (\n          <Icon icon=\"wpf:administrator\" color=\"#f2884b\" height=\"40\" />\n        )}\n        <p> {email}</p>\n      </div>\n      <div className=\"current-time\">\n        <p> {today.toLocaleDateString()}</p>\n        <p> {time.toLocaleTimeString()}</p>\n      </div>\n      <Icon\n        className=\"logout\"\n        icon=\"ic:twotone-logout\"\n        color=\"#f2884b\"\n        height=\"40\"\n        onClick={() => {\n          handleLogout();\n        }}\n      />\n    </div>\n  );\n};\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}