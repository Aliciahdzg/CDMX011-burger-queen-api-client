{"ast":null,"code":"import _regeneratorRuntime from\"/home/alicia/Documentos/Laboratoria/bqmaster/CDMX011-burger-queen-api-client/burgerqueen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/alicia/Documentos/Laboratoria/bqmaster/CDMX011-burger-queen-api-client/burgerqueen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/alicia/Documentos/Laboratoria/bqmaster/CDMX011-burger-queen-api-client/burgerqueen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{BrowserRouter as Router,Route,Routes}from'react-router-dom';import{onAuthStateChanged}from'firebase/auth';import{doc,getDoc}from'firebase/firestore';import auth,{db}from'./firebase/firebaseConfig';import Orders from'./components/Orders';import Kitchen from'./components/Kitchen';import Login from'./components/Login';import Administrator from'./components/Administrator';import PrivateRoute from'./components/PrivateRoute';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setUserData=_useState2[1];var getRol=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(uid){var docuRef,cipherDocu,finalInfo;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:docuRef=doc(db,\"users/\".concat(uid));_context.next=3;return getDoc(docuRef);case 3:cipherDocu=_context.sent;finalInfo=cipherDocu.data().role;return _context.abrupt(\"return\",finalInfo);case 6:case\"end\":return _context.stop();}}},_callee);}));return function getRol(_x){return _ref.apply(this,arguments);};}();onAuthStateChanged(auth,function(user){if(!user){setUserData(null);}});return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/orders\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(Orders,{userData:userData})})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(Login,{userData:userData,setUserData:setUserData,getRol:getRol})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/kitchen\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(Kitchen,{userData:userData,setUserData:setUserData})})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/admin\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(Administrator,{userData:userData,setUserData:setUserData})})})]})})});}export default App;","map":{"version":3,"sources":["/home/alicia/Documentos/Laboratoria/bqmaster/CDMX011-burger-queen-api-client/burgerqueen/src/App.js"],"names":["React","useState","BrowserRouter","Router","Route","Routes","onAuthStateChanged","doc","getDoc","auth","db","Orders","Kitchen","Login","Administrator","PrivateRoute","App","userData","setUserData","getRol","uid","docuRef","cipherDocu","finalInfo","data","role","user"],"mappings":"0mBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,CAAkCC,KAAlC,CAAyCC,MAAzC,KAAuD,kBAAvD,CACA,OAASC,kBAAT,KAAmC,eAAnC,CACA,OAASC,GAAT,CAAcC,MAAd,KAA4B,oBAA5B,CACA,MAAOC,CAAAA,IAAP,EAAeC,EAAf,KAAyB,2BAAzB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,4BAA1B,CACA,MAAOC,CAAAA,YAAP,KAAyB,2BAAzB,C,wFAEA,QAASC,CAAAA,GAAT,EAAe,CACb,cAAgCf,QAAQ,CAAC,IAAD,CAAxC,wCAAOgB,QAAP,eAAiBC,WAAjB,eACA,GAAMC,CAAAA,MAAM,0FAAG,iBAAOC,GAAP,mJACPC,OADO,CACGd,GAAG,CAACG,EAAD,iBAAcU,GAAd,EADN,uBAEYZ,CAAAA,MAAM,CAACa,OAAD,CAFlB,QAEPC,UAFO,eAGPC,SAHO,CAGKD,UAAU,CAACE,IAAX,GAAkBC,IAHvB,iCAINF,SAJM,wDAAH,kBAANJ,CAAAA,MAAM,4CAAZ,CAOAb,kBAAkB,CAACG,IAAD,CAAO,SAACiB,IAAD,CAAU,CACjC,GAAI,CAACA,IAAL,CAAW,CACTR,WAAW,CAAC,IAAD,CAAX,CACD,CACF,CAJiB,CAAlB,CAKA,mBACE,YAAK,SAAS,CAAC,KAAf,uBACE,KAAC,MAAD,wBACE,MAAC,MAAD,yBACE,KAAC,KAAD,EACE,KAAK,KADP,CAEE,IAAI,CAAC,SAFP,CAGE,OAAO,cACL,KAAC,YAAD,wBACE,KAAC,MAAD,EAAQ,QAAQ,CAAED,QAAlB,EADF,EAJJ,EADF,cAUE,KAAC,KAAD,EACE,KAAK,KADP,CAEE,IAAI,CAAC,GAFP,CAGE,OAAO,cACL,KAAC,KAAD,EACE,QAAQ,CAAEA,QADZ,CAEE,WAAW,CAAEC,WAFf,CAGE,MAAM,CAAEC,MAHV,EAJJ,EAVF,cAqBE,KAAC,KAAD,EACE,KAAK,KADP,CAEE,IAAI,CAAC,UAFP,CAGE,OAAO,cACL,KAAC,YAAD,wBACE,KAAC,OAAD,EAAS,QAAQ,CAAEF,QAAnB,CAA6B,WAAW,CAAEC,WAA1C,EADF,EAJJ,EArBF,cA8BE,KAAC,KAAD,EACE,KAAK,KADP,CAEE,IAAI,CAAC,QAFP,CAGE,OAAO,cACL,KAAC,YAAD,wBACE,KAAC,aAAD,EAAe,QAAQ,CAAED,QAAzB,CAAmC,WAAW,CAAEC,WAAhD,EADF,EAJJ,EA9BF,GADF,EADF,EADF,CA8CD,CAED,cAAeF,CAAAA,GAAf","sourcesContent":["import React, { useState } from 'react';\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { doc, getDoc } from 'firebase/firestore';\nimport auth, { db } from './firebase/firebaseConfig';\n\nimport Orders from './components/Orders';\nimport Kitchen from './components/Kitchen';\nimport Login from './components/Login';\nimport Administrator from './components/Administrator';\nimport PrivateRoute from './components/PrivateRoute';\n\nfunction App() {\n  const [userData, setUserData] = useState(null);\n  const getRol = async (uid) => {\n    const docuRef = doc(db, `users/${uid}`);\n    const cipherDocu = await getDoc(docuRef);\n    const finalInfo = cipherDocu.data().role;\n    return finalInfo;\n  };\n\n  onAuthStateChanged(auth, (user) => {\n    if (!user) {\n      setUserData(null);\n    }\n  });\n  return (\n    <div className=\"App\">\n      <Router>\n        <Routes>\n          <Route\n            exact\n            path=\"/orders\"\n            element={\n              <PrivateRoute>\n                <Orders userData={userData} />\n              </PrivateRoute>\n            }\n          />\n          <Route\n            exact\n            path=\"/\"\n            element={\n              <Login\n                userData={userData}\n                setUserData={setUserData}\n                getRol={getRol}\n              />\n            }\n          />\n          <Route\n            exact\n            path=\"/kitchen\"\n            element={\n              <PrivateRoute>\n                <Kitchen userData={userData} setUserData={setUserData} />\n              </PrivateRoute>\n            }\n          />\n          <Route\n            exact\n            path=\"/admin\"\n            element={\n              <PrivateRoute>\n                <Administrator userData={userData} setUserData={setUserData} />\n              </PrivateRoute>\n            }\n          />\n        </Routes>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}