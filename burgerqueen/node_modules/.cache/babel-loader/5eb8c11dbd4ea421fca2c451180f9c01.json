{"ast":null,"code":"import _slicedToArray from\"/home/alicia/Documentos/Laboratoria/CDMX011-burger-queen-api-client/burgerqueen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable jsx-a11y/no-autofocus */ /* eslint-disable react/prop-types */import'./styles/Resum.scss';import{Icon}from'@iconify/react';import React,{useState,useEffect}from'react';import Swal from'sweetalert2';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Resum=function Resum(_ref){var resumItems=_ref.resumItems,setResumItems=_ref.setResumItems,removeAll=_ref.removeAll,client=_ref.client,setClient=_ref.setClient,api=_ref.api,urlK=_ref.urlK,order=_ref.order;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),total=_useState2[0],setTotal=_useState2[1];useEffect(function(){var prices=resumItems.map(function(item){return item.qty*item.price;});var reducer=function reducer(previousValue,currentValue){return previousValue+currentValue;};setTotal(prices.reduce(reducer,0));},[resumItems]);var resetInputField=function resetInputField(){setClient('');};var postOrder=function postOrder(){var options={body:order,headers:{'Content-Type':'application/json'}};if(!client){Swal.fire({title:'Error!',text:'Nombre de cliente es requerido',icon:'warning',confirmButtonText:'Aceptar'});return;}Swal.fire({title:'¿Enviar Orden?',icon:'question',confirmButtonColor:'#3085d6',cancelButtonColor:'#d33',confirmButtonText:'Enviar!',showCancelButton:true}).then(function(result){if(result.isConfirmed){api.post(urlK,options).then(function(res){if(res.err){console.log(res.statusText);}}).then(setResumItems([])).then(resetInputField());}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"resum-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"div-client-name\",children:/*#__PURE__*/_jsx(\"input\",{className:\"client-name\",autoFocus:true,placeholder:\"Nombre de cliente\",value:client,onChange:function onChange(e){setClient(e.target.value);}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"resum-summary\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Resumen del pedido\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"titles\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Alimento\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Cantidad\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Subtotal\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"no-items\",children:resumItems.length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"El pedido esta vacio\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"items-container\",children:resumItems.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"item-body\",children:[/*#__PURE__*/_jsx(\"p\",{id:\"name\",children:item.name}),/*#__PURE__*/_jsxs(\"p\",{id:\"qty\",children:[\" \",item.qty]}),/*#__PURE__*/_jsxs(\"p\",{id:\"subtotal\",children:[\" $ \",item.qty*item.price]}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-icon\",type:\"button\",onClick:function onClick(){removeAll(item);},children:/*#__PURE__*/_jsx(Icon,{icon:\"cil:delete\",color:\"#f2884b\",height:\"30\"})})]},item.id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"div-total\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total:\"}),\" $ \",total,\" .00\"]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){postOrder();},children:\"Enviar\"})]})]})]});};export default Resum;","map":{"version":3,"sources":["/home/alicia/Documentos/Laboratoria/CDMX011-burger-queen-api-client/burgerqueen/src/components/Resum.jsx"],"names":["Icon","React","useState","useEffect","Swal","Resum","resumItems","setResumItems","removeAll","client","setClient","api","urlK","order","total","setTotal","prices","map","item","qty","price","reducer","previousValue","currentValue","reduce","resetInputField","postOrder","options","body","headers","fire","title","text","icon","confirmButtonText","confirmButtonColor","cancelButtonColor","showCancelButton","then","result","isConfirmed","post","res","err","console","log","statusText","e","target","value","length","name","id"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/no-autofocus */\n/* eslint-disable react/prop-types */\nimport './styles/Resum.scss';\nimport { Icon } from '@iconify/react';\nimport React, { useState, useEffect } from 'react';\nimport Swal from 'sweetalert2';\n\nconst Resum = ({\n  resumItems,\n  setResumItems,\n  removeAll,\n  client,\n  setClient,\n  api,\n  urlK,\n  order\n}) => {\n  const [total, setTotal] = useState(0);\n\n  useEffect(() => {\n    const prices = resumItems.map((item) => item.qty * item.price);\n    const reducer = (previousValue, currentValue) =>\n      previousValue + currentValue;\n    setTotal(prices.reduce(reducer, 0));\n  }, [resumItems]);\n\n  const resetInputField = () => {\n    setClient('');\n  };\n\n  const postOrder = () => {\n    const options = {\n      body: order,\n      headers: { 'Content-Type': 'application/json' }\n    };\n    if (!client) {\n      Swal.fire({\n        title: 'Error!',\n        text: 'Nombre de cliente es requerido',\n        icon: 'warning',\n        confirmButtonText: 'Aceptar'\n      });\n      return;\n    }\n    Swal.fire({\n      title: '¿Enviar Orden?',\n      icon: 'question',\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Enviar!',\n      showCancelButton: true\n    }).then((result) => {\n      if (result.isConfirmed) {\n        api\n          .post(urlK, options)\n          .then((res) => {\n            if (res.err) {\n              console.log(res.statusText);\n            }\n          })\n          .then(setResumItems([]))\n          .then(resetInputField());\n      }\n    });\n  };\n\n  return (\n    <div className=\"resum-content\">\n      <div className=\"div-client-name\">\n        <input\n          className=\"client-name\"\n          autoFocus\n          placeholder=\"Nombre de cliente\"\n          value={client}\n          onChange={(e) => {\n            setClient(e.target.value);\n          }}\n        />\n      </div>\n\n      <div className=\"resum-summary\">\n        <h3>Resumen del pedido</h3>\n        <div className=\"titles\">\n          <p>Alimento</p>\n          <p>Cantidad</p>\n          <p>Subtotal</p>\n        </div>\n        <div className=\"no-items\">\n          {resumItems.length === 0 && <p>El pedido esta vacio</p>}\n        </div>\n        <div className=\"items-container\">\n          {resumItems.map((item) => (\n            <div className=\"item-body\" key={item.id}>\n              <p id=\"name\">{item.name}</p>\n              <p id=\"qty\"> {item.qty}</p>\n              <p id=\"subtotal\"> $ {item.qty * item.price}</p>\n              <button\n                className=\"delete-icon\"\n                type=\"button\"\n                onClick={() => {\n                  removeAll(item);\n                }}\n              >\n                <Icon icon=\"cil:delete\" color=\"#f2884b\" height=\"30\" />\n              </button>\n            </div>\n          ))}\n        </div>\n        <div className=\"div-total\">\n          <p>\n            <span>Total:</span> $ {total} .00\n          </p>\n          <button\n            type=\"button\"\n            onClick={() => {\n              postOrder();\n            }}\n          >\n            Enviar\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default Resum;\n"]},"metadata":{},"sourceType":"module"}