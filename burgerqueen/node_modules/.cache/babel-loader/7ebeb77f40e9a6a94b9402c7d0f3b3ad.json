{"ast":null,"code":"import _regeneratorRuntime from\"/home/alicia/Documentos/Laboratoria/bqmaster/CDMX011-burger-queen-api-client/burgerqueen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/alicia/Documentos/Laboratoria/bqmaster/CDMX011-burger-queen-api-client/burgerqueen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from'react';import Swal from'sweetalert2';import{createUserWithEmailAndPassword}from'firebase/auth';import{doc,setDoc}from'firebase/firestore';import FormUsers from'./FormUsers';import InfoUsers from'./InfoUsers';import auth,{db}from'../firebase/firebaseConfig';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Users=function Users(){var handleRegister=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(email,password,confirmPassword,rol){var infoUsuario,docuRef;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(password!==confirmPassword)){_context.next=4;break;}Swal.fire({title:'Error!',text:'Contraseñas no coinciden',icon:'warning',confirmButtonText:'Aceptar'});_context.next=20;break;case 4:if(rol.includes('mesero','cocinero','administrador')){_context.next=8;break;}Swal.fire({title:'Error!',text:'Falta elegir el rol',icon:'warning',confirmButtonText:'Aceptar'});_context.next=20;break;case 8:_context.prev=8;_context.next=11;return createUserWithEmailAndPassword(auth,email,password).then(function(usuarioFirebase){return usuarioFirebase;});case 11:infoUsuario=_context.sent;docuRef=doc(db,\"users/\".concat(infoUsuario.user.uid));setDoc(docuRef,{email:email,role:rol});Swal.fire({title:'Registro Exitoso!',text:'Se ha registrado nuevo usuario',icon:'success',confirmButtonText:'Aceptar'});_context.next=20;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](8);console.log(_context.t0);case 20:case\"end\":return _context.stop();}}},_callee,null,[[8,17]]);}));return function handleRegister(_x,_x2,_x3,_x4){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"users-container\",children:[/*#__PURE__*/_jsx(FormUsers,{handleRegister:handleRegister}),/*#__PURE__*/_jsxs(\"table\",{className:\"usersData\",children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"NOMBRE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ROL\"}),/*#__PURE__*/_jsx(\"th\",{children:\"EMAIL\"})]}),/*#__PURE__*/_jsx(InfoUsers,{})]})]});};export default Users;","map":{"version":3,"sources":["/home/alicia/Documentos/Laboratoria/bqmaster/CDMX011-burger-queen-api-client/burgerqueen/src/components/Users.jsx"],"names":["React","Swal","createUserWithEmailAndPassword","doc","setDoc","FormUsers","InfoUsers","auth","db","Users","handleRegister","email","password","confirmPassword","rol","fire","title","text","icon","confirmButtonText","includes","then","usuarioFirebase","infoUsuario","docuRef","user","uid","role","console","log"],"mappings":"2ZAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAOC,CAAAA,IAAP,KAAiB,aAAjB,CACA,OAASC,8BAAT,KAA+C,eAA/C,CACA,OAASC,GAAT,CAAcC,MAAd,KAA4B,oBAA5B,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CAEA,MAAOC,CAAAA,IAAP,EAAeC,EAAf,KAAyB,4BAAzB,C,wFAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAClB,GAAMC,CAAAA,cAAc,0FAAG,iBAAOC,KAAP,CAAcC,QAAd,CAAwBC,eAAxB,CAAyCC,GAAzC,+IACjBF,QAAQ,GAAKC,eADI,0BAEnBZ,IAAI,CAACc,IAAL,CAAU,CACRC,KAAK,CAAE,QADC,CAERC,IAAI,CAAE,0BAFE,CAGRC,IAAI,CAAE,SAHE,CAIRC,iBAAiB,CAAE,SAJX,CAAV,EAFmB,iCAQTL,GAAG,CAACM,QAAJ,CAAa,QAAb,CAAuB,UAAvB,CAAmC,eAAnC,CARS,yBASnBnB,IAAI,CAACc,IAAL,CAAU,CACRC,KAAK,CAAE,QADC,CAERC,IAAI,CAAE,qBAFE,CAGRC,IAAI,CAAE,SAHE,CAIRC,iBAAiB,CAAE,SAJX,CAAV,EATmB,qEAiBSjB,CAAAA,8BAA8B,CACtDK,IADsD,CAEtDI,KAFsD,CAGtDC,QAHsD,CAA9B,CAIxBS,IAJwB,CAInB,SAACC,eAAD,QAAqBA,CAAAA,eAArB,EAJmB,CAjBT,SAiBXC,WAjBW,eAsBXC,OAtBW,CAsBDrB,GAAG,CAACK,EAAD,iBAAce,WAAW,CAACE,IAAZ,CAAiBC,GAA/B,EAtBF,CAuBjBtB,MAAM,CAACoB,OAAD,CAAU,CAAEb,KAAK,CAALA,KAAF,CAASgB,IAAI,CAAEb,GAAf,CAAV,CAAN,CACAb,IAAI,CAACc,IAAL,CAAU,CACRC,KAAK,CAAE,mBADC,CAERC,IAAI,CAAE,gCAFE,CAGRC,IAAI,CAAE,SAHE,CAIRC,iBAAiB,CAAE,SAJX,CAAV,EAxBiB,iFA+BjBS,OAAO,CAACC,GAAR,cA/BiB,qEAAH,kBAAdnB,CAAAA,cAAc,wDAApB,CAmCA,mBACE,aAAK,SAAS,CAAC,iBAAf,wBACE,KAAC,SAAD,EAAW,cAAc,CAAEA,cAA3B,EADF,cAEE,eAAO,SAAS,CAAC,WAAjB,wBACE,mCACE,8BADF,cAEE,2BAFF,cAGE,6BAHF,GADF,cAME,KAAC,SAAD,IANF,GAFF,GADF,CAaD,CAjDD,CAmDA,cAAeD,CAAAA,KAAf","sourcesContent":["import React from 'react';\n\nimport Swal from 'sweetalert2';\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\nimport { doc, setDoc } from 'firebase/firestore';\nimport FormUsers from './FormUsers';\nimport InfoUsers from './InfoUsers';\n\nimport auth, { db } from '../firebase/firebaseConfig';\n\nconst Users = () => {\n  const handleRegister = async (email, password, confirmPassword, rol) => {\n    if (password !== confirmPassword) {\n      Swal.fire({\n        title: 'Error!',\n        text: 'Contraseñas no coinciden',\n        icon: 'warning',\n        confirmButtonText: 'Aceptar'\n      });\n    } else if (!rol.includes('mesero', 'cocinero', 'administrador')) {\n      Swal.fire({\n        title: 'Error!',\n        text: 'Falta elegir el rol',\n        icon: 'warning',\n        confirmButtonText: 'Aceptar'\n      });\n    } else {\n      try {\n        const infoUsuario = await createUserWithEmailAndPassword(\n          auth,\n          email,\n          password\n        ).then((usuarioFirebase) => usuarioFirebase);\n        const docuRef = doc(db, `users/${infoUsuario.user.uid}`);\n        setDoc(docuRef, { email, role: rol });\n        Swal.fire({\n          title: 'Registro Exitoso!',\n          text: 'Se ha registrado nuevo usuario',\n          icon: 'success',\n          confirmButtonText: 'Aceptar'\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n  return (\n    <div className=\"users-container\">\n      <FormUsers handleRegister={handleRegister} />\n      <table className=\"usersData\">\n        <tr>\n          <th>NOMBRE</th>\n          <th>ROL</th>\n          <th>EMAIL</th>\n        </tr>\n        <InfoUsers />\n      </table>\n    </div>\n  );\n};\n\nexport default Users;\n"]},"metadata":{},"sourceType":"module"}