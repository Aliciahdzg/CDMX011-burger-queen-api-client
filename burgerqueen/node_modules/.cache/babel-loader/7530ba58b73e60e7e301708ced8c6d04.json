{"ast":null,"code":"import _slicedToArray from\"/home/alicia/Documentos/Laboratoria/bqmaster/CDMX011-burger-queen-api-client/burgerqueen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable react/prop-types */ /* eslint-disable no-param-reassign */ /* eslint-disable react-hooks/exhaustive-deps */import React,{useEffect,useState}from'react';import Swal from'sweetalert2';import{helpHttp}from'../helpers/helpHttp';import KitchenOrder from'./KitchenOrder';import Header from'./Header';import Logo from'../assets/upper-icon.png';import'./styles/Kitchen.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Kitchen=function Kitchen(_ref){var userData=_ref.userData,setUserData=_ref.setUserData;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),kitchenOrder=_useState2[0],setKitchenOrder=_useState2[1];var api=helpHttp();var urlK='https://menubq-api.herokuapp.com/kitchen';useEffect(function(){var endpoint=\"\".concat(urlK,\"?status=pending\");api.get(endpoint).then(function(res){if(!res.err){setKitchenOrder(res);}else{setKitchenOrder(res.err);}});},[]);var updateData=function updateData(data){var endpoint=\"\".concat(urlK,\"/\").concat(data.id);var options={body:{status:'done'},headers:{'Content-Type':'application/json'}};api.patch(endpoint,options).then(function(res){if(res.err){console.log(res.statusText);}});};var removeOrder=function removeOrder(item){var select=kitchenOrder.filter(function(x){return x.id!==item.id;});setKitchenOrder(select);};var difference=function difference(timeStart){var diff=new Date(timeStart);var diff2=new Date();var test=diff2.getTime()-diff.getTime();var diffMins=Math.round(test/60000);// minutes\nvar unit='minutos';if(diffMins>60){Math.round(diffMins/=60);unit='horas';}Swal.fire({title:'Tiempo de Preparación',text:\"La orden quedo lista en \".concat(diffMins,\" \").concat(unit),icon:'success',confirmButtonText:'Aceptar'});};return/*#__PURE__*/_jsxs(\"div\",{className:\"kitchen-content\",children:[/*#__PURE__*/_jsx(Header,{userData:userData,setUserData:setUserData}),/*#__PURE__*/_jsxs(\"div\",{className:\"kitchen-titles\",children:[/*#__PURE__*/_jsx(\"img\",{src:Logo,alt:\"Logo\",className:\"logo-kitchen\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"\\xD3rdenes en cocina\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(KitchenOrder,{kitchenOrder:kitchenOrder,updateData:updateData,removeOrder:removeOrder,difference:difference}),/*#__PURE__*/_jsx(\"div\",{})]})]});};export default Kitchen;","map":{"version":3,"sources":["/home/alicia/Documentos/Laboratoria/bqmaster/CDMX011-burger-queen-api-client/burgerqueen/src/components/Kitchen.jsx"],"names":["React","useEffect","useState","Swal","helpHttp","KitchenOrder","Header","Logo","Kitchen","userData","setUserData","kitchenOrder","setKitchenOrder","api","urlK","endpoint","get","then","res","err","updateData","data","id","options","body","status","headers","patch","console","log","statusText","removeOrder","item","select","filter","x","difference","timeStart","diff","Date","diff2","test","getTime","diffMins","Math","round","unit","fire","title","text","icon","confirmButtonText"],"mappings":"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","sourcesContent":["/* eslint-disable react/prop-types */\n/* eslint-disable no-param-reassign */\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, useState } from 'react';\nimport Swal from 'sweetalert2';\nimport { helpHttp } from '../helpers/helpHttp';\n\nimport KitchenOrder from './KitchenOrder';\nimport Header from './Header';\nimport Logo from '../assets/upper-icon.png';\n\nimport './styles/Kitchen.scss';\n\nconst Kitchen = ({ userData, setUserData }) => {\n  const [kitchenOrder, setKitchenOrder] = useState([]);\n\n  const api = helpHttp();\n  const urlK = 'https://menubq-api.herokuapp.com/kitchen';\n\n  useEffect(() => {\n    const endpoint = `${urlK}?status=pending`;\n    api.get(endpoint).then((res) => {\n      if (!res.err) {\n        setKitchenOrder(res);\n      } else {\n        setKitchenOrder(res.err);\n      }\n    });\n  }, []);\n\n  const updateData = (data) => {\n    const endpoint = `${urlK}/${data.id}`;\n    const options = {\n      body: { status: 'done' },\n      headers: { 'Content-Type': 'application/json' }\n    };\n    api.patch(endpoint, options).then((res) => {\n      if (res.err) {\n        console.log(res.statusText);\n      }\n    });\n  };\n\n  const removeOrder = (item) => {\n    const select = kitchenOrder.filter((x) => x.id !== item.id);\n    setKitchenOrder(select);\n  };\n\n  const difference = (timeStart) => {\n    const diff = new Date(timeStart);\n    const diff2 = new Date();\n    const test = diff2.getTime() - diff.getTime();\n    let diffMins = Math.round(test / 60000); // minutes\n    let unit = 'minutos';\n    if (diffMins > 60) {\n      Math.round((diffMins /= 60));\n      unit = 'horas';\n    }\n    Swal.fire({\n      title: 'Tiempo de Preparación',\n      text: `La orden quedo lista en ${diffMins} ${unit}`,\n      icon: 'success',\n      confirmButtonText: 'Aceptar'\n    });\n  };\n\n  return (\n    <div className=\"kitchen-content\">\n      <Header userData={userData} setUserData={setUserData} />\n      <div className=\"kitchen-titles\">\n        <img src={Logo} alt=\"Logo\" className=\"logo-kitchen\" />\n        <h1>Órdenes en cocina</h1>\n      </div>\n      <div>\n        <KitchenOrder\n          kitchenOrder={kitchenOrder}\n          updateData={updateData}\n          removeOrder={removeOrder}\n          difference={difference}\n        />\n        <div />\n      </div>\n    </div>\n  );\n};\nexport default Kitchen;\n"]},"metadata":{},"sourceType":"module"}