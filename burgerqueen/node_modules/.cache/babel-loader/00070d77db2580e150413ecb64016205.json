{"ast":null,"code":"import _toConsumableArray from\"/home/alicia/Documentos/Laboratoria/bqmaster/CDMX011-burger-queen-api-client/burgerqueen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/home/alicia/Documentos/Laboratoria/bqmaster/CDMX011-burger-queen-api-client/burgerqueen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/alicia/Documentos/Laboratoria/bqmaster/CDMX011-burger-queen-api-client/burgerqueen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable no-plusplus */ /* eslint-disable prettier/prettier */ /* eslint-disable react/prop-types */ /* eslint-disable react-hooks/exhaustive-deps */import React,{useState,useEffect}from'react';import{helpHttp}from'../helpers/helpHttp';import Logo from'../assets/upper-icon.png';import Breackfast from'./Breackfast';import Header from'./Header';import Lunch from'./Lunch';import Resum from'./Resum';import OrdersReady from'./OrdersReady';import'./styles/Orders.scss';import'./styles/Menu.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Orders=function Orders(_ref){var userData=_ref.userData,setUserData=_ref.setUserData;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),breakfastMenu=_useState2[0],setBreakfastMenu=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),lunchMenu=_useState4[0],setLunchMenu=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),client=_useState6[0],setClient=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),resumItems=_useState8[0],setResumItems=_useState8[1];var _useState9=useState('breakfast'),_useState10=_slicedToArray(_useState9,2),activeMenu=_useState10[0],setActiveMenu=_useState10[1];var api=helpHttp();var urlB='https://menubq-api.herokuapp.com/breakfastMenu';var urlL='https://menubq-api.herokuapp.com/lunchMenu';var urlK='https://menubq-api.herokuapp.com/kitchen';useEffect(function(){api.get(urlB).then(function(res){if(!res.err){setBreakfastMenu(res);}else{setBreakfastMenu(null);}});api.get(urlL).then(function(res){if(!res.err){setLunchMenu(res);}else{setLunchMenu(null);}});},[urlB,urlL]);var order={client:client,status:'pending',order:{items:resumItems,timeIn:new Date()}};var addItem=function addItem(item){var exist=resumItems.find(function(x){return x.id===item.id;});if(exist){setResumItems(resumItems.map(function(x){return x.id===item.id?_objectSpread(_objectSpread({},exist),{},{qty:exist.qty+1}):x;}));}else{setResumItems([].concat(_toConsumableArray(resumItems),[_objectSpread(_objectSpread({},item),{},{qty:1})]));}};var removeItem=function removeItem(item){var exist=resumItems.find(function(x){return x.id===item.id;});if(exist===undefined){return'';}if(exist.qty===1){return setResumItems(resumItems.filter(function(x){return x.id!==item.id;}));}return setResumItems(resumItems.map(function(x){return x.id===item.id?_objectSpread(_objectSpread({},exist),{},{qty:exist.qty-1}):x;}));};var removeAll=function removeAll(item){var select=resumItems.filter(function(x){return x.id!==item.id;});setResumItems(select);};return/*#__PURE__*/_jsxs(\"div\",{className:\"orders-content\",children:[/*#__PURE__*/_jsx(Header,{userData:userData,SetUserData:setUserData}),/*#__PURE__*/_jsxs(\"div\",{className:\"div-resum-menu\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"resum\",children:/*#__PURE__*/_jsx(Resum,{removeAll:removeAll,resumItems:resumItems,setResumItems:setResumItems,client:client,setClient:setClient,order:order,api:api,urlK:urlK})}),/*#__PURE__*/_jsxs(\"div\",{className:\"menu\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"menu-options\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"breackfast-btn\",onClick:function onClick(){setActiveMenu('breakfast');},children:\"Desayuno\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"lunch-btn\",onClick:function onClick(){setActiveMenu('lunch');},children:\"Comida\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"menu-food\",children:[activeMenu==='breakfast'&&/*#__PURE__*/_jsx(Breackfast,{addItem:addItem,removeItem:removeItem,breakfastMenu:breakfastMenu}),activeMenu==='lunch'&&/*#__PURE__*/_jsx(Lunch,{addItem:addItem,removeItem:removeItem,lunchMenu:lunchMenu})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"div-logo-orders\",children:[/*#__PURE__*/_jsx(\"img\",{src:Logo,alt:\"Logo\",className:\"logo-orders-img\"}),/*#__PURE__*/_jsx(OrdersReady,{})]})]});};export default Orders;","map":{"version":3,"sources":["/home/alicia/Documentos/Laboratoria/bqmaster/CDMX011-burger-queen-api-client/burgerqueen/src/components/Orders.jsx"],"names":["React","useState","useEffect","helpHttp","Logo","Breackfast","Header","Lunch","Resum","OrdersReady","Orders","userData","setUserData","breakfastMenu","setBreakfastMenu","lunchMenu","setLunchMenu","client","setClient","resumItems","setResumItems","activeMenu","setActiveMenu","api","urlB","urlL","urlK","get","then","res","err","order","status","items","timeIn","Date","addItem","item","exist","find","x","id","map","qty","removeItem","undefined","filter","removeAll","select"],"mappings":"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","sourcesContent":["/* eslint-disable no-plusplus */\n/* eslint-disable prettier/prettier */\n/* eslint-disable react/prop-types */\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from 'react';\n\nimport { helpHttp } from '../helpers/helpHttp';\n\nimport Logo from '../assets/upper-icon.png';\nimport Breackfast from './Breackfast';\nimport Header from './Header';\nimport Lunch from './Lunch';\nimport Resum from './Resum';\nimport OrdersReady from './OrdersReady';\n\nimport './styles/Orders.scss';\nimport './styles/Menu.scss';\n\nconst Orders = ({ userData, setUserData }) => {\n  const [breakfastMenu, setBreakfastMenu] = useState([]);\n  const [lunchMenu, setLunchMenu] = useState([]);\n\n  const [client, setClient] = useState('');\n\n  const [resumItems, setResumItems] = useState([]);\n\n  const [activeMenu, setActiveMenu] = useState('breakfast');\n\n  const api = helpHttp();\n\n  const urlB = 'https://menubq-api.herokuapp.com/breakfastMenu';\n  const urlL = 'https://menubq-api.herokuapp.com/lunchMenu';\n  const urlK = 'https://menubq-api.herokuapp.com/kitchen';\n\n  useEffect(() => {\n    api.get(urlB).then((res) => {\n      if (!res.err) {\n        setBreakfastMenu(res);\n      } else {\n        setBreakfastMenu(null);\n      }\n    });\n\n    api.get(urlL).then((res) => {\n      if (!res.err) {\n        setLunchMenu(res);\n      } else {\n        setLunchMenu(null);\n      }\n    });\n  }, [urlB, urlL]);\n\n  const order = {\n    client,\n    status: 'pending',\n    order: {\n      items: resumItems,\n      timeIn: new Date()\n    }\n  };\n\n  const addItem = (item) => {\n    const exist = resumItems.find((x) => x.id === item.id);\n    if (exist) {\n      setResumItems(\n        resumItems.map((x) =>\n          x.id === item.id ? { ...exist, qty: exist.qty + 1 } : x\n        )\n      );\n    } else {\n      setResumItems([...resumItems, { ...item, qty: 1 }]);\n    }\n  };\n\n  const removeItem = (item) => {\n    const exist = resumItems.find((x) => x.id === item.id);\n    if (exist === undefined) {\n      return '';\n    }\n    if (exist.qty === 1) {\n      return setResumItems(resumItems.filter((x) => x.id !== item.id));\n    }\n    return setResumItems(\n      resumItems.map((x) =>\n        x.id === item.id ? { ...exist, qty: exist.qty - 1 } : x\n      )\n    );\n  };\n\n  const removeAll = (item) => {\n    const select = resumItems.filter((x) => x.id !== item.id);\n    setResumItems(select);\n  };\n\n\n  return (\n    <div className=\"orders-content\">\n      <Header\n     userData={userData}\n     SetUserData={setUserData}\n       \n      />\n      <div className=\"div-resum-menu\">\n        <div className=\"resum\">\n          <Resum\n            removeAll={removeAll}\n            resumItems={resumItems}\n            setResumItems={setResumItems}\n            client={client}\n            setClient={setClient}\n            order={order}\n            api={api}\n            urlK={urlK}\n          />\n        </div>\n        <div className=\"menu\">\n          <div className=\"menu-options\">\n            <button\n              type=\"button\"\n              className=\"breackfast-btn\"\n              onClick={() => {\n                setActiveMenu('breakfast');\n              }}\n            >\n              Desayuno\n            </button>\n            <button\n              type=\"button\"\n              className=\"lunch-btn\"\n              onClick={() => {\n                setActiveMenu('lunch');\n              }}\n            >\n              Comida\n            </button>\n          </div>\n\n          <div className=\"menu-food\">\n            {activeMenu === 'breakfast' && (\n              <Breackfast\n                addItem={addItem}\n                removeItem={removeItem}\n                breakfastMenu={breakfastMenu}\n              />\n            )}\n            {activeMenu === 'lunch' && (\n              <Lunch\n                addItem={addItem}\n                removeItem={removeItem}\n                lunchMenu={lunchMenu}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n      <div className=\"div-logo-orders\">\n        <img src={Logo} alt=\"Logo\" className=\"logo-orders-img\" />\n         <OrdersReady /> \n      </div>\n    </div>\n  );\n};\nexport default Orders;\n"]},"metadata":{},"sourceType":"module"}