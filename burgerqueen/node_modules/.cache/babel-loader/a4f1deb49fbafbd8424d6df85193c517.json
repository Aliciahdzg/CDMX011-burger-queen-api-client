{"ast":null,"code":"var _jsxFileName = \"/home/alicia/Documentos/Laboratoria/bqmaster/CDMX011-burger-queen-api-client/burgerqueen/src/components/OrdersReady.jsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable react/prop-types */\n\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from 'react';\nimport { helpHttp } from '../helpers/helpHttp';\nimport OrderReadyItem from './OrderReadyItem';\nimport './styles/OrdersReady.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst OrdersReady = () => {\n  _s();\n\n  const [orderReady, setOrderReady] = useState([]);\n  const api = helpHttp();\n  const urlK = 'http://localhost:3001/kitchen';\n  useEffect(() => {\n    const endpoint = `${urlK}?status=pending&status=done`;\n    api.get(endpoint).then(res => {\n      if (!res.err) {\n        setOrderReady(res);\n      } else {\n        setOrderReady(res.err);\n      }\n    });\n  }, []);\n\n  const updateData = data => {\n    const endpoint = `${urlK}/${data.id}`;\n    const options = {\n      body: {\n        status: 'closed'\n      },\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    api.patch(endpoint, options).then(res => {\n      if (res.err) {\n        console.log(res.statusText);\n      }\n    });\n  };\n\n  const removeOrder = item => {\n    const select = orderReady.filter(x => x.id !== item.id);\n    setOrderReady(select);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-done\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"items\",\n      children: orderReady.map(order => /*#__PURE__*/_jsxDEV(OrderReadyItem, {\n        order: order,\n        updateData: updateData,\n        removeOrder: removeOrder\n      }, order.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n\n_s(OrdersReady, \"zjd/2+JyAgY7VIzGQucBD4gcovM=\");\n\n_c = OrdersReady;\nexport default OrdersReady;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrdersReady\");","map":{"version":3,"sources":["/home/alicia/Documentos/Laboratoria/bqmaster/CDMX011-burger-queen-api-client/burgerqueen/src/components/OrdersReady.jsx"],"names":["React","useState","useEffect","helpHttp","OrderReadyItem","OrdersReady","orderReady","setOrderReady","api","urlK","endpoint","get","then","res","err","updateData","data","id","options","body","status","headers","patch","console","log","statusText","removeOrder","item","select","filter","x","map","order"],"mappings":";;;AAAA;;AACA;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,QAAT,QAAyB,qBAAzB;AAEA,OAAOC,cAAP,MAA2B,kBAA3B;AAEA,OAAO,2BAAP;;;AAEA,MAAMC,WAAW,GAAG,MAAM;AAAA;;AACxB,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BN,QAAQ,CAAC,EAAD,CAA5C;AAEA,QAAMO,GAAG,GAAGL,QAAQ,EAApB;AACA,QAAMM,IAAI,GAAG,+BAAb;AAEAP,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMQ,QAAQ,GAAI,GAAED,IAAK,6BAAzB;AACAD,IAAAA,GAAG,CAACG,GAAJ,CAAQD,QAAR,EAAkBE,IAAlB,CAAwBC,GAAD,IAAS;AAC9B,UAAI,CAACA,GAAG,CAACC,GAAT,EAAc;AACZP,QAAAA,aAAa,CAACM,GAAD,CAAb;AACD,OAFD,MAEO;AACLN,QAAAA,aAAa,CAACM,GAAG,CAACC,GAAL,CAAb;AACD;AACF,KAND;AAOD,GATQ,EASN,EATM,CAAT;;AAWA,QAAMC,UAAU,GAAIC,IAAD,IAAU;AAC3B,UAAMN,QAAQ,GAAI,GAAED,IAAK,IAAGO,IAAI,CAACC,EAAG,EAApC;AACA,UAAMC,OAAO,GAAG;AACdC,MAAAA,IAAI,EAAE;AAAEC,QAAAA,MAAM,EAAE;AAAV,OADQ;AAEdC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB;AAFK,KAAhB;AAIAb,IAAAA,GAAG,CAACc,KAAJ,CAAUZ,QAAV,EAAoBQ,OAApB,EAA6BN,IAA7B,CAAmCC,GAAD,IAAS;AACzC,UAAIA,GAAG,CAACC,GAAR,EAAa;AACXS,QAAAA,OAAO,CAACC,GAAR,CAAYX,GAAG,CAACY,UAAhB;AACD;AACF,KAJD;AAKD,GAXD;;AAaA,QAAMC,WAAW,GAAIC,IAAD,IAAU;AAC5B,UAAMC,MAAM,GAAGtB,UAAU,CAACuB,MAAX,CAAmBC,CAAD,IAAOA,CAAC,CAACb,EAAF,KAASU,IAAI,CAACV,EAAvC,CAAf;AACAV,IAAAA,aAAa,CAACqB,MAAD,CAAb;AACD,GAHD;;AAKA,sBACE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA,gBACGtB,UAAU,CAACyB,GAAX,CAAgBC,KAAD,iBACd,QAAC,cAAD;AAEE,QAAA,KAAK,EAAEA,KAFT;AAGE,QAAA,UAAU,EAAEjB,UAHd;AAIE,QAAA,WAAW,EAAEW;AAJf,SACOM,KAAK,CAACf,EADb;AAAA;AAAA;AAAA;AAAA,cADD;AADH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAcD,CAjDD;;GAAMZ,W;;KAAAA,W;AAmDN,eAAeA,WAAf","sourcesContent":["/* eslint-disable react/prop-types */\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from 'react';\nimport { helpHttp } from '../helpers/helpHttp';\n\nimport OrderReadyItem from './OrderReadyItem';\n\nimport './styles/OrdersReady.scss';\n\nconst OrdersReady = () => {\n  const [orderReady, setOrderReady] = useState([]);\n\n  const api = helpHttp();\n  const urlK = 'http://localhost:3001/kitchen';\n\n  useEffect(() => {\n    const endpoint = `${urlK}?status=pending&status=done`;\n    api.get(endpoint).then((res) => {\n      if (!res.err) {\n        setOrderReady(res);\n      } else {\n        setOrderReady(res.err);\n      }\n    });\n  }, []);\n\n  const updateData = (data) => {\n    const endpoint = `${urlK}/${data.id}`;\n    const options = {\n      body: { status: 'closed' },\n      headers: { 'Content-Type': 'application/json' }\n    };\n    api.patch(endpoint, options).then((res) => {\n      if (res.err) {\n        console.log(res.statusText);\n      }\n    });\n  };\n\n  const removeOrder = (item) => {\n    const select = orderReady.filter((x) => x.id !== item.id);\n    setOrderReady(select);\n  };\n\n  return (\n    <div className=\"container-done\">\n      <div className=\"items\">\n        {orderReady.map((order) => (\n          <OrderReadyItem\n            key={order.id}\n            order={order}\n            updateData={updateData}\n            removeOrder={removeOrder}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default OrdersReady;\n"]},"metadata":{},"sourceType":"module"}