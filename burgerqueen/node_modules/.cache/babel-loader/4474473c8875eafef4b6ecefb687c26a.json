{"ast":null,"code":"import _objectSpread from\"/home/alicia/Documentos/Laboratoria/bqmaster/CDMX011-burger-queen-api-client/burgerqueen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";/* eslint-disable prefer-promise-reject-errors */ /* eslint-disable no-param-reassign */ /* eslint-disable import/prefer-default-export */export var helpHttp=function helpHttp(){var customFetch=function customFetch(endpoint,options){var defaultHeaders={accept:'application/json'};var controller=new AbortController();options.signal=controller.signal;options.method=options.method||'GET';options.header=options.header?_objectSpread(_objectSpread({},defaultHeaders),options.headers):defaultHeaders;options.body=JSON.stringify(options.body)||false;if(!options.body)delete options.body;// console.log(options);\nsetTimeout(function(){return controller.abort();},3000);return fetch(endpoint,options).then(function(res){return res.ok?res.json():Promise.reject({err:true,status:res.status||'00',statusText:res.statusText||'Ocurrio un error'});}).catch(function(err){return err;});};var get=function get(url){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return customFetch(url,options);};var post=function post(url){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};options.method='POST';return customFetch(url,options);};var put=function put(url){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};options.method='PUT';return customFetch(url,options);};var del=function del(url){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};options.method='DELETE';return customFetch(url,options);};var patch=function patch(url){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};options.method='PATCH';return customFetch(url,options);};return{get:get,post:post,put:put,del:del,patch:patch};};","map":{"version":3,"sources":["/home/alicia/Documentos/Laboratoria/bqmaster/CDMX011-burger-queen-api-client/burgerqueen/src/helpers/helpHttp.js"],"names":["helpHttp","customFetch","endpoint","options","defaultHeaders","accept","controller","AbortController","signal","method","header","headers","body","JSON","stringify","setTimeout","abort","fetch","then","res","ok","json","Promise","reject","err","status","statusText","catch","get","url","post","put","del","patch"],"mappings":"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","sourcesContent":["/* eslint-disable prefer-promise-reject-errors */\n/* eslint-disable no-param-reassign */\n/* eslint-disable import/prefer-default-export */\nexport const helpHttp = () => {\n  const customFetch = (endpoint, options) => {\n    const defaultHeaders = {\n      accept: 'application/json'\n    };\n    const controller = new AbortController();\n    options.signal = controller.signal;\n    options.method = options.method || 'GET';\n    options.header = options.header\n      ? { ...defaultHeaders, ...options.headers }\n      : defaultHeaders;\n\n    options.body = JSON.stringify(options.body) || false;\n    if (!options.body) delete options.body;\n\n    // console.log(options);\n\n    setTimeout(() => controller.abort(), 3000);\n\n    return fetch(endpoint, options)\n      .then((res) =>\n        res.ok\n          ? res.json()\n          : Promise.reject({\n              err: true,\n              status: res.status || '00',\n              statusText: res.statusText || 'Ocurrio un error'\n            })\n      )\n      .catch((err) => err);\n  };\n  const get = (url, options = {}) => customFetch(url, options);\n  const post = (url, options = {}) => {\n    options.method = 'POST';\n    return customFetch(url, options);\n  };\n  const put = (url, options = {}) => {\n    options.method = 'PUT';\n    return customFetch(url, options);\n  };\n  const del = (url, options = {}) => {\n    options.method = 'DELETE';\n    return customFetch(url, options);\n  };\n  const patch = (url, options = {}) => {\n    options.method = 'PATCH';\n    return customFetch(url, options);\n  };\n\n  return { get, post, put, del, patch };\n};\n"]},"metadata":{},"sourceType":"module"}